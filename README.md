# BigData

## 环境要求
Python 3.7+

## 目录
- [SVD矩阵分解与降维作业](#SVD矩阵分解与降维作业)
    - [作业要求](#-作业要求)
    - [算法原理](#-算法原理)
    - [参数调整](#-参数调整)

## [SVD矩阵分解与降维作业](./1-svd)
实现了基于奇异值分解（SVD）的稀疏矩阵降维分析，模拟推荐系统中的用户-商家评分矩阵处理。通过SVD分解和降维，展示了如何在低维空间中发现用户之间的潜在相似性。

### 📋 作业要求
#### 1. 稀疏矩阵构造
随机构造一个 100×1000 的用户-商家稀疏矩阵 A，确保矩阵满足稀疏性特征。

#### 2. SVD分解与降维
**任务(a)**:
- 利用SVD对矩阵A进行分解，求解U和V矩阵
- 在 r=10 的条件下计算降维矩阵

**任务(b)**:
- 从矩阵A中选择两行 i 和 j，使得 A_i 和 A_j 中非零元素的交集为空
- 计算 i 和 j 在低维空间的相似度

#### 🔧 技术实现

##### 核心算法
- **SVD分解**: A ≈ U @ Σ @ V^T
    - U: 用户的潜在特征矩阵
    - Σ: 奇异值对角矩阵
    - V^T: 商家的潜在特征矩阵

##### 关键技术点
1. **稀疏矩阵生成**: 使用 `scipy.sparse.random` 生成密度为5%的稀疏矩阵
2. **SVD分解**: 使用 `scipy.linalg.svd` 进行完整分解
3. **降维处理**: 保留前r=10个最大奇异值
4. **相似度计算**: 使用余弦相似度衡量低维空间中的用户相似性

#### 📊 预期输出

程序将输出以下内容：

##### 1. 稀疏矩阵信息
```
矩阵形状: (100, 1000)
非零元素数量: 5000
稀疏度: 95.00%
密度: 5.00%
```

##### 2. SVD分解结果
```
U矩阵形状: (100, 100)
奇异值向量形状: (100,)
V^T矩阵形状: (100, 1000)
前20个奇异值: [...]
```

##### 3. 降维效果
```
降维后的矩阵维度:
U_r: (100, 10)
Sigma_r: (10, 10)
Vt_r: (10, 1000)
重构误差: ...
能量保留率: ...%
```

##### 4. 相似度分析
```
找到的两行: 行X 和 行Y
余弦相似度: ...
欧氏距离: ...
```

### 🧮 算法原理

#### 为什么要用SVD？
SVD是一种强大的矩阵分解技术，在推荐系统中有重要应用：

1. **降维**: 从高维稀疏空间映射到低维稠密空间
2. **去噪**: 去除数据中的噪声，提取主要模式
3. **协同过滤**: 发现用户和商家之间的潜在关联

#### 稀疏性处理
在真实推荐系统中：
- 用户只评价了少数商家（稀疏性）
- 大部分用户-商家组合是未知的
- SVD可以通过潜在因子填补这些空白

#### 相似度计算意义
即使两个用户没有评价过相同的商家（原始空间无交集），通过SVD降维后，仍可能在低维空间中发现相似性。这是因为SVD捕捉了**潜在的偏好模式**。

**例如**:
- 用户A评价了{餐厅1, 餐厅2, 餐厅3}
- 用户B评价了{餐厅4, 餐厅5, 餐厅6}
- 虽然没有交集，但如果两组餐厅都属于"高档法餐"，SVD会发现A和B有相似的"高档法餐偏好"因子

### 🛠️ 参数调整

可以修改以下参数来观察不同效果：

```python
# 矩阵大小
n_users = 100    # 用户数
n_items = 1000   # 商家数

# 稀疏度
density = 0.05   # 5%的元素非零

# 降维维度
r = 10           # 保留的奇异值数量

# 评分范围
# data_rvs=lambda s: np.random.randint(1, 6, size=s)  # 1-5分
```

